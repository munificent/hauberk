I'm still trying to get spell mechanics to hang together with the notion of
class powers and spending experience. The idea to have a separate class power
for each spell book isn't a bad one, but I don't know if that's enough to get
the design to gel.

Some problems that came to mind:

## Wands and staves

As in Diablo, I think magic-users should generally wield wands and staves as
their "melee weapons". In practice, they won't melee with them often. Instead,
they'll keep them equipped for their magical bonus.

In Diablo, this works by them raising the level of various magic-using class
skills. I'd like to do so something similar for Hauberk.

But it feels pretty weird if a wand or staff has a level bonus for some random
spellbook. That suggests that grouping mage spells by spellbook might not be a
good fit.

## Outgrowing spells

The current design I have in mind is that spells themselves aren't leveled. You
level some class power that grants access to more powerful spells, but spells
themselves do one fixed thing. The only way a spell gets "better" is by the
hero gaining intellect to raise max focus so they can cast it more.

That means that players will outgrow spells. A magic missile that does tiny
damage is simply completely useless for a higher level hero.

In some ways, this mirrors warriors where they do expect to be using better and
better equipment as they progress. So it's not fatal if the game works this way.
But I do fear it means that I'll have to define a *lot* of spells just to have a
range of power for various basic effects like bolts.

Conversely, in Angband, spells generally get more powerful as the player levels
up. For example, the damage for magic missile is `(3+(level-1)/5)d4`. In Diablo,
players can level up spells individually to make them more powerful.

## Spell granularity

I think the general conflict I'm running into here around how spells are
grouped mechanically:

*   I want a pretty large collection of fairly fine-grained spells. Certainly
    more than Diablo has. Maybe even more than Angband.

*   For spending experience, leveling each spell individually is too
    fine-grained. But leveling *all* spells is too coarse-grained.

*   Likewise, for wands and staves, they should improve a number of spells to
    be generally useful.

*   I like the idea of spell-casting subclasses that specialize in "schools" or
    subsets of spells. But if spells are also leveled with school granularity,
    then we end up with a subclass that only has one class power to level.

*   Spellbooks are a neat way to collect a set of spells together and tie into
    the item and inventory system.

*   If some spells are shared across classes, some grouping mechanism to
    determine which batches are available to which classes.

Separate from the granularity question, I also need mechanics to control which
spells the hero knows about and to determine which they can learn and are able
to cast.

## Goals

At a high level, what am I trying to accomplish with spellcaster classes? Like,
why don't I just have a single mage class with a big pile of spells and call it
done?

I think mostly what I'm going for is:

*   Avoiding a "doing everything" spellcasting class that has no weaknesses or
    limitations (aside from crappy melee). Magic is powerful enough without
    being able to use it to solve just about every problem.

*   Increasing replayability by having a few different spellcasting classes,
    each with their own set of capabilities. In a lot of ways, that's what
    Angband does with mage and priest. They are both just spellcasters with
    different sets of spells.

*   Within a given spellcasting class, giving the player some flexibility in
    how they develop and emphasize the character. Diablo does this each class
    having three pages of skills and players can focus on one page over others.
    Partially to give the player agency and not having developing the class
    feel completely "on rails". Also to give some replayability within a single
    class.

*   Also, possibly the ability to share some spells across multiple classes.

(Honestly, I just think Diablo's system works really well. I want something
like that, but with more individual spells/skills.)

## Design sketch

So, cribbing directly from Diablo, here's a sketch of a design:

*   There are a handful of spellcasting classes. Each one has its own feel and
    leans in certain directions as far as play style and mechanic. There is no
    generalist spellcasting class like "mage" that does everything. (There may
    be a class named "mage" but it still has its own feel and limitations.)

*   Within a given class, there are a handful of spell types. Diablo does three,
    I'm thinking maybe four or five. Fewer for spellcasting classes that also
    have some non-spell class powers.

    Each spell type is a class power that the player can spend experience to
    level up.

*   Also, ego items can boost the level of spell types. Wands and staves are the
    most common pieces of equipment for this.

*   Each spell type contains a set of spells. Roughly five to ten. Each spell's
    effect is modulated by the level in its spell type. So leveling up a spell
    type makes all spells of that type more powerful in some way.

I'm not sure how spell acquisition should work. Options (including possibly
some combination):

*   Players also spend experience to learn individual spells. That's a one shot
    expense to open up the spell.

*   Have to find a spellbook that contains the spell.

*   Have to level up the corresponding spell type to reach the spell's level
    requirement.

*   Have to have high enough intellect to reach the spell's intellect
    requirement.

## Spellcasting class sketches

To see if the above mechanic holds together, let me try to sketch out a few
spellcasting classes, their spell types, and some spells in each type.

### Mage





